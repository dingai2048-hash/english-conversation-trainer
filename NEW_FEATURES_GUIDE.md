# 新功能使用指南 🎉

## 快速开始

恭喜！您的英语对话训练器现在有了三个强大的新功能：

### 1. 📜 对话历史 - 自动保存您的练习记录

**如何使用**:
1. 正常进行对话练习（至少2条消息）
2. 系统会在2秒后自动保存
3. 点击右上角的"历史"按钮查看记录

**您可以看到**:
- 📊 总会话数、总消息数、练习天数
- 📝 最近20条对话记录
- 🤖 AI生成的对话摘要
- 📥 导出按钮（下载JSON文件）

**示例**:
```
对话记录示例：
┌─────────────────────────────────┐
│ 2024-01-06  10:30:25           │
│ 讨论天气和周末计划              │
│ 8 条消息                        │
└─────────────────────────────────┘
```

### 2. 🎤 发音评价 - 获得即时反馈

**如何使用**:
1. 说完一句话后，在您的消息气泡上
2. 点击"评价发音"按钮
3. AI会给您简短的反馈和建议
4. AI还会用语音朗读评价

**评价内容包括**:
- ✅ 整体清晰度评估
- 💡 具体改进建议
- 🎯 简单易懂（A1-A2英语水平）

**示例反馈**:
```
🎤 Your pronunciation is clear! 
Try to speak a bit slower for 
better clarity. Keep practicing!

（如果开启翻译）
你的发音很清晰！试着说慢一点
会更清楚。继续练习！
```

### 3. 📱 固定对话框 - 更好的阅读体验

**改进内容**:
- 对话框固定高度（600px）
- 内容超出时自动滚动
- 新消息自动滚动到底部
- 不会再无限延伸了！

## 完整使用流程

### 第一次使用

1. **配置AI服务**（如果还没配置）
   - 点击右上角"设置"按钮
   - 选择AI提供商（推荐：豆包或OpenAI）
   - 输入API Key
   - 保存设置

2. **开始对话**
   - 点击麦克风按钮
   - 用英语说话
   - AI会回复并朗读

3. **查看历史**
   - 点击"历史"按钮
   - 查看您的练习记录
   - 查看统计信息

4. **获得反馈**
   - 点击消息上的"评价发音"
   - 听取AI的建议
   - 继续改进

### 日常使用

```
开始练习 → 对话 → 获得反馈 → 查看历史 → 导出记录
   ↓         ↓        ↓          ↓           ↓
 点麦克风   说英语   点按钮    点历史按钮   点导出
```

## 常见问题

### Q: 对话没有自动保存？
**A**: 确保至少有2条消息（一问一答），等待2秒让系统保存。

### Q: 听不到AI的声音？
**A**: 
1. 检查浏览器是否允许音频播放
2. 检查系统音量
3. 尝试刷新页面
4. 查看 `TROUBLESHOOTING_TTS.md` 获取详细帮助

### Q: 历史记录会丢失吗？
**A**: 
- 数据保存在浏览器本地，不会上传
- 清除浏览器数据会删除记录
- 建议定期导出备份
- 隐私模式下关闭窗口会丢失

### Q: 可以删除某条历史记录吗？
**A**: 目前还不支持，但这个功能在计划中。您可以：
- 导出后手动编辑JSON文件
- 或清空所有历史重新开始

### Q: 发音评价准确吗？
**A**: 
- AI基于您说的内容给出建议
- 主要关注清晰度和流畅度
- 建议作为参考，不是绝对标准
- 多次练习会看到进步

## 高级技巧

### 1. 导出和分析数据

导出的JSON文件包含完整的对话数据：
```json
{
  "id": "session-1234567890",
  "date": "2024-01-06",
  "time": "10:30:25",
  "summary": "讨论天气和周末计划",
  "messageCount": 8,
  "messages": [...]
}
```

您可以：
- 用Excel/Python分析学习进度
- 统计常用词汇
- 追踪话题分布

### 2. 优化学习效果

**建议**:
1. 每天练习10-15分钟
2. 定期查看历史记录
3. 关注AI的发音建议
4. 尝试不同话题
5. 每周导出一次数据

**学习循环**:
```
练习 → 反馈 → 改进 → 复习 → 进步
  ↑                              ↓
  └──────────────────────────────┘
```

### 3. 数据管理

**最佳实践**:
- 每周导出一次历史记录
- 重要对话立即导出
- 定期清理旧记录（系统自动保留最近100个）
- 备份到云盘或其他设备

## 故障排除

### 问题：历史侧边栏不显示
**解决**:
1. 刷新页面
2. 检查浏览器控制台是否有错误
3. 清除浏览器缓存重试

### 问题：导出失败
**解决**:
1. 检查浏览器下载权限
2. 确保有足够磁盘空间
3. 尝试其他浏览器

### 问题：AI摘要不准确
**解决**:
- 这是正常的，AI摘要是自动生成的
- 主要用于快速识别对话
- 可以点击查看完整内容（未来功能）

## 更多帮助

详细文档：
- 📖 `CONVERSATION_HISTORY.md` - 对话历史详细说明
- 🎤 `PRONUNCIATION_FEEDBACK.md` - 发音评价详细说明
- 🔧 `TROUBLESHOOTING_TTS.md` - 语音问题排查
- 📋 `FEATURE_SUMMARY.md` - 技术实现细节

## 反馈和建议

如果您有任何问题或建议，欢迎：
1. 查看相关文档
2. 检查已知问题列表
3. 提供反馈帮助改进

---

**祝您学习愉快！Keep practicing! 🚀**
