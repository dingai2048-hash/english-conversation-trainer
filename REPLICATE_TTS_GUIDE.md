# Replicate TTS 使用指南

## 什么是 Replicate TTS？

Replicate TTS 是一个高质量的云端语音合成服务，可以让 AI 考拉用更自然、更真实的声音说话。

## 为什么使用 Replicate TTS？

### 浏览器自带 TTS vs Replicate TTS

| 特性 | 浏览器自带 | Replicate TTS |
|------|-----------|---------------|
| **费用** | 完全免费 | 按使用量付费 (~$0.01-0.02/次) |
| **质量** | 一般，取决于系统 | 高质量，非常自然 |
| **延迟** | 即时 | 1-3秒 (Turbo模式) |
| **配置** | 无需配置 | 需要 API Key |
| **离线** | 支持 | 需要网络 |

### 推荐使用场景

**使用浏览器自带 TTS（默认）：**
- 你想完全免费使用
- 你对语音质量要求不高
- 你需要离线使用

**使用 Replicate TTS：**
- 你想要更自然的 AI 声音
- 你愿意为更好的体验付费
- 你有稳定的网络连接

## 如何配置 Replicate TTS

### 步骤 1: 获取 Replicate API Key

1. 访问 [Replicate.com](https://replicate.com)
2. 注册/登录账号
3. 进入 **Account Settings** → **API Tokens**
4. 点击 **Create Token** 创建新的 API Token
5. 复制生成的 Token（格式类似：`r8_xxxxxxxxxxxxx`）

### 步骤 2: 在应用中配置

1. 打开英语对话训练应用
2. 点击右上角的 **设置** 按钮
3. 滚动到 **🔊 语音合成设置** 部分
4. 在 **语音服务商** 下拉菜单中选择 **Replicate (高质量)**
5. 输入你的 **Replicate API Key**
6. 选择语音质量：
   - **Turbo (快速，低延迟)** - 推荐用于实时对话
   - **HD (高质量，自然)** - 推荐用于高质量体验
7. 点击 **保存设置**

### 步骤 3: 开始使用

配置完成后，AI 考拉的回复将使用 Replicate TTS 生成语音。你会注意到：
- 声音更自然、更流畅
- 有轻微的延迟（1-3秒）用于生成语音
- 每次对话会产生少量费用

## 费用说明

### Replicate TTS 定价

- **Turbo 模式**: 约 $0.01/次生成
- **HD 模式**: 约 $0.02/次生成

### 费用估算

假设你每天练习 30 分钟，大约 20 次对话：

- **每天**: $0.20 - $0.40
- **每月**: $6 - $12
- **每年**: $72 - $144

**注意**: 实际费用可能因使用频率和文本长度而异。

### 如何控制费用

1. **混合使用**: 日常练习用浏览器 TTS，重要场合用 Replicate
2. **选择 Turbo 模式**: 比 HD 模式便宜一半
3. **监控使用**: 在 Replicate 控制台查看使用量
4. **设置预算**: 在 Replicate 账户中设置月度预算上限

## 技术细节

### 使用的模型

- **Turbo**: `minimax/speech-02-turbo`
  - 低延迟，适合实时对话
  - 生成速度快（1-2秒）
  - 质量良好

- **HD**: `minimax/speech-02-hd`
  - 高质量，声音更自然
  - 生成速度稍慢（2-3秒）
  - 表达更丰富

### 语音参数

- **语言**: 英语 (en-US)
- **语速**: 0.9x（略慢，适合语言学习者）
- **音调**: 自然
- **音量**: 标准

## 常见问题

### Q: 我的 API Key 安全吗？

A: 是的。你的 API Key 只保存在浏览器本地存储中，不会上传到任何服务器。只有你的浏览器会使用它来调用 Replicate API。

### Q: 为什么有延迟？

A: Replicate TTS 需要在云端生成高质量音频，这需要 1-3 秒时间。这是为了获得更好的语音质量而做的权衡。

### Q: 可以切换回浏览器 TTS 吗？

A: 当然可以！随时在设置中将 **语音服务商** 改回 **浏览器自带 (免费)** 即可。

### Q: 如果 API Key 用完额度会怎样？

A: 应用会显示错误提示，但不会影响其他功能。你可以：
1. 在 Replicate 账户中充值
2. 切换回浏览器 TTS
3. 暂时关闭语音功能

### Q: 支持其他语言吗？

A: 目前只支持英语，因为这是英语学习应用。未来可能会添加其他语言支持。

### Q: 可以自定义声音吗？

A: 当前版本使用默认的英语声音。未来版本可能会添加声音选择功能（男声/女声、不同口音等）。

## 故障排除

### 问题: 语音无法播放

**可能原因**:
1. API Key 无效或过期
2. 网络连接问题
3. Replicate 服务暂时不可用

**解决方法**:
1. 检查 API Key 是否正确
2. 检查网络连接
3. 尝试切换回浏览器 TTS
4. 查看浏览器控制台的错误信息

### 问题: 延迟太长

**可能原因**:
1. 使用 HD 模式
2. 网络速度慢
3. Replicate 服务繁忙

**解决方法**:
1. 切换到 Turbo 模式
2. 检查网络速度
3. 稍后再试

### 问题: 费用超出预期

**解决方法**:
1. 在 Replicate 控制台查看详细使用记录
2. 考虑切换到 Turbo 模式
3. 减少使用频率
4. 切换回免费的浏览器 TTS

## 反馈与支持

如果你遇到任何问题或有改进建议，欢迎：
- 在项目 GitHub 提交 Issue
- 联系开发者
- 查看 Replicate 官方文档: https://replicate.com/docs

---

**提示**: 建议先用浏览器 TTS 试用应用，确认喜欢后再考虑升级到 Replicate TTS。
