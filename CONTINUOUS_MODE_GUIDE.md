# 连续对话模式使用指南

## 功能概述

连续对话模式让您可以与AI考拉进行流畅的自然对话，无需每次都手动点击麦克风按钮。

## 如何使用

### 1. 启用连续模式

点击麦克风下方的 **"🔄 进入连续模式"** 按钮。

- 麦克风按钮会变成**绿色**，表示连续模式已启用
- 按钮周围会显示绿色光环
- 状态文字显示 "Continuous Mode"

### 2. 开始对话

点击麦克风按钮开始第一次录音：

1. **您说话** → 点击麦克风开始录音
2. **再次点击** → 停止录音，系统处理您的语音
3. **AI回复** → 考拉说出回复
4. **自动录音** → AI说完后，系统自动开始下一轮录音（延迟0.8秒）
5. **重复** → 继续对话，无需再次点击

### 3. 退出连续模式

- 点击 **"🔄 退出连续模式"** 按钮
- 或者在对话过程中，系统会在AI说完后自动停止

## 视觉指示

| 状态 | 麦克风颜色 | 说明 |
|------|-----------|------|
| 普通模式 | 蓝色 | 需要手动点击开始每次录音 |
| 连续模式（待机） | 绿色 | 等待您开始说话或AI说完 |
| 录音中 | 红色（脉动） | 正在录制您的声音 |
| 处理中 | 灰色 | 系统正在处理，按钮禁用 |

## 使用场景

### 适合连续模式：
- ✅ 长时间练习对话
- ✅ 模拟真实对话场景
- ✅ 快速问答练习
- ✅ 流畅的多轮对话

### 适合普通模式：
- ✅ 初次使用，熟悉系统
- ✅ 需要思考时间的深度对话
- ✅ 查看历史记录或调整设置时
- ✅ 网络不稳定时

## 工作原理

```
用户点击麦克风 → 录音 → 停止录音 → AI处理 → AI语音回复
                                              ↓
                                    [连续模式：自动开始下一轮]
                                              ↓
                                         延迟0.8秒
                                              ↓
                                         自动开始录音
```

## 注意事项

1. **准备时间**：AI说完后会有0.8秒的准备时间，让您准备下一句话
2. **手动停止**：录音时仍需手动点击麦克风停止录音
3. **自动触发**：只有在AI说完后才会自动开始下一轮录音
4. **禁用状态**：在录音、处理或AI说话时，无法切换连续模式

## 技术实现

连续模式通过以下机制实现：

- **状态管理**：`isContinuousMode` 状态控制模式开关
- **自动触发**：监听 `isSpeaking` 状态变化，AI说完后自动调用录音
- **延迟启动**：使用 `setTimeout` 延迟0.8秒，给用户准备时间
- **视觉反馈**：绿色按钮和光环提示连续模式已启用

## 快捷提示

💡 **小贴士**：
- 在连续模式下，您可以随时点击麦克风按钮来手动控制录音
- 如果需要暂停对话，先退出连续模式
- 连续模式不会影响翻译、历史记录等其他功能

## 故障排除

**问题：连续模式不自动开始录音**
- 确保AI已经说完（状态显示不是"考拉正在说话..."）
- 检查是否有错误提示
- 尝试退出并重新进入连续模式

**问题：自动录音太快/太慢**
- 当前延迟设置为0.8秒
- 如需调整，可以在设置中修改（未来功能）

**问题：连续模式按钮无法点击**
- 等待当前操作完成（录音、处理或AI说话）
- 确保没有错误提示阻塞

## 更新日志

- **v1.0** (2026-01-08): 首次发布连续对话模式功能
  - 支持自动录音
  - 绿色视觉指示
  - 0.8秒准备延迟
